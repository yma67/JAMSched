file(GLOB_RECURSE JAMCOMPONENTS_SOURCES RELATIVE ${CMAKE_CURRENT_SOURCE_DIR}/ "${CMAKE_CURRENT_SOURCE_DIR}/*.c" "${CMAKE_CURRENT_SOURCE_DIR}/*.cpp")
set(JAMCOMPONENTS_SOURCES_LIST "")
foreach(jamcomponent_source ${JAMCOMPONENTS_SOURCES})
    list(APPEND JAMCOMPONENTS_SOURCES_LIST ${jamcomponent_source})
endforeach(jamcomponent_source ${JAMTEST_SOURCES})
set(CMAKE_ASM_FLAGS "${CFLAGS} -x assembler-with-cpp")
add_compile_definitions(JAMSCRIPT_RT_SPINWAIT_DELTA=0)
add_library(jamsched ${JAMCOMPONENTS_SOURCES_LIST})
target_compile_features(jamsched PRIVATE cxx_std_17)
target_include_directories(jamsched PUBLIC ${PROJECT_SOURCE_DIR}/include)